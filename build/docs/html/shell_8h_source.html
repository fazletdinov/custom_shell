<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Custom Shell: Исходный файл /home/idel/DevCpp/custom_shell/include/shell.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Custom Shell<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Пользовательская оболочка bash на языке C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Загрузка...</div>
<div class="SRStatus" id="Searching">Поиск...</div>
<div class="SRStatus" id="NoMatches">Не найдено</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">shell.h</div></div>
</div><!--header-->
<div class="contents">
<a href="shell_8h.html">См. документацию.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#ifndef CUSTOM_SHELL_H</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#define CUSTOM_SHELL_H</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;sys/wait.h&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;sys/types.h&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;time.h&gt;</span> <span class="comment">// Added for time_t</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="shell_8h.html#a479e2087967dffd589c1b8b65c8e65e6">   34</a></span><span class="preprocessor">#define MAX_INPUT_SIZE 1024</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="shell_8h.html#a29b7451465deac204c5f7cb1f9c6e1fc">   40</a></span><span class="preprocessor">#define MAX_ARGS 64</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="shell_8h.html#ab99ded389af74001a6298fc9e44e74e5">   46</a></span><span class="preprocessor">#define MAX_PATH 256</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="shell_8h.html#a7a7c87173dc0b32eb0086b66359963a5">   52</a></span><span class="preprocessor">#define MAX_HISTORY_SIZE 100</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="shell_8h.html#a1b7e12161a64669d2320db1c93d8e21e">   58</a></span><span class="preprocessor">#define MAX_HISTORY_LENGTH 1024</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="shell_8h.html#a2f8864f32c9b96956a018e9fedee05db">   64</a></span><span class="preprocessor">#define HISTORY_FILE_NAME &quot;/.custom_shell_history&quot;</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="shell_8h.html#aca01ee0645581c21d0fa75605bedd93e">   70</a></span><span class="preprocessor">#define MAX_HISTORY_FILE_SIZE (1024 * 1024) </span><span class="comment">// 1MB</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="shell_8h.html#a17f760256046df23dd0ab46602f04d02">   76</a></span><span class="preprocessor">#define COLOR_RESET &quot;\033[0m&quot;</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="shell_8h.html#afc9149f5de51bd9ac4f5ebbfa153f018">   82</a></span><span class="preprocessor">#define COLOR_GREEN &quot;\033[32m&quot;</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="shell_8h.html#ad86358bf19927183dd7b4ae215a29731">   88</a></span><span class="preprocessor">#define COLOR_RED &quot;\033[31m&quot;</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno"><a class="line" href="shell_8h.html#a23c70d699a5a775bc2e1ebeb8603f630">   94</a></span><span class="preprocessor">#define COLOR_BLUE &quot;\033[34m&quot;</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="shell_8h.html#a4534b577b74a58b0f4b7be027af664e0">  100</a></span><span class="preprocessor">#define COLOR_YELLOW &quot;\033[33m&quot;</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="shell_8h.html#a82573859711fce56f1aa0a76b18a9b18">  106</a></span><span class="preprocessor">#define COLOR_CYAN &quot;\033[36m&quot;</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="shell_8h.html#a302607d6f585b7e9ba1c3eab8d2199d5">  112</a></span><span class="preprocessor">#define COLOR_BOLD &quot;\033[1m&quot;</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="foldopen" id="foldopen00118" data-start="{" data-end="};">
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="structcommand__t.html">  118</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="structcommand__t.html#a7669822c9db256e89589d5a876f9b985">  119</a></span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="structcommand__t.html#a7669822c9db256e89589d5a876f9b985">name</a>;           </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="structcommand__t.html#a1fc6386693577d4209050cc425c7637f">  120</a></span>    <span class="keywordtype">char</span> **<a class="code hl_variable" href="structcommand__t.html#a1fc6386693577d4209050cc425c7637f">args</a>;          </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno"><a class="line" href="structcommand__t.html#aeb541791619c1670c1fddb8f918f1b11">  121</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structcommand__t.html#aeb541791619c1670c1fddb8f918f1b11">argc</a>;             </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="structcommand__t.html#a6ea051a54b39d23ae89182607c12eb3c">  122</a></span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="structcommand__t.html#a6ea051a54b39d23ae89182607c12eb3c">input_file</a>;     </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno"><a class="line" href="structcommand__t.html#a2db4be54adcc51d85b7c72fe88cae1c9">  123</a></span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="structcommand__t.html#a2db4be54adcc51d85b7c72fe88cae1c9">output_file</a>;    </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="structcommand__t.html#ad71a60db506befc5d6f81e57d3af0bdc">  124</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structcommand__t.html#ad71a60db506befc5d6f81e57d3af0bdc">background</a>;       </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>} <a class="code hl_struct" href="structcommand__t.html">command_t</a>;</div>
</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="foldopen" id="foldopen00131" data-start="{" data-end="};">
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="structhistory__entry__t.html">  131</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="structhistory__entry__t.html#abbf58ffe3ad279f284d1226fd5acca7a">  132</a></span>    <span class="keywordtype">char</span> command[<a class="code hl_define" href="shell_8h.html#a1b7e12161a64669d2320db1c93d8e21e">MAX_HISTORY_LENGTH</a>];  </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno"><a class="line" href="structhistory__entry__t.html#a9cd8fd5b3b3f4277303b7e93ee91f423">  133</a></span>    time_t <a class="code hl_variable" href="structhistory__entry__t.html#a9cd8fd5b3b3f4277303b7e93ee91f423">timestamp</a>;                  </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="structhistory__entry__t.html#ad8af9c1cdc596f0b97bcdd2adecdfc58">  134</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structhistory__entry__t.html#ad8af9c1cdc596f0b97bcdd2adecdfc58">exit_code</a>;                     </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>} <a class="code hl_struct" href="structhistory__entry__t.html">history_entry_t</a>;</div>
</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="foldopen" id="foldopen00141" data-start="{" data-end="};">
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="structshell__state__t.html">  141</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="structshell__state__t.html#a303ed311b2f68b1fa8320534a7a00b88">  142</a></span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="structshell__state__t.html#a303ed311b2f68b1fa8320534a7a00b88">prompt</a>;         </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno"><a class="line" href="structshell__state__t.html#ac8f3a3909a877152c226cd175afbd170">  143</a></span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="structshell__state__t.html#ac8f3a3909a877152c226cd175afbd170">current_dir</a>;    </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="structshell__state__t.html#a3ddb8e63a7a24012486de311d7f66b9f">  144</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structshell__state__t.html#a3ddb8e63a7a24012486de311d7f66b9f">exit_code</a>;        </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="structshell__state__t.html#a6b8a870f1a562afba347f2e899d23644">  145</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structshell__state__t.html#a6b8a870f1a562afba347f2e899d23644">should_exit</a>;      </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="structshell__state__t.html#a4baf165280a9254784978a412f21b91a">  146</a></span>    <a class="code hl_struct" href="structhistory__entry__t.html">history_entry_t</a> history[<a class="code hl_define" href="shell_8h.html#a7a7c87173dc0b32eb0086b66359963a5">MAX_HISTORY_SIZE</a>];  </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno"><a class="line" href="structshell__state__t.html#a8916fb15edfeb57944b3d30efce44728">  147</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structshell__state__t.html#a8916fb15edfeb57944b3d30efce44728">history_count</a>;    </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="structshell__state__t.html#a187359fda69e8fbae4b689fd0779501d">  148</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structshell__state__t.html#a187359fda69e8fbae4b689fd0779501d">history_index</a>;    </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>} <a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a>;</div>
</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="comment">// Глобальная переменная для выхода из оболочки</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="keyword">extern</span> <span class="keywordtype">int</span> g_should_exit;</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="keywordtype">int</span> <a class="code hl_function" href="shell_8h.html#aac47e02c9e6df0c26ea1d890b98fd161">shell_init</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state);</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="keywordtype">int</span> <a class="code hl_function" href="shell_8h.html#a8263c7076351d705386a432dc09b63d6">shell_run</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="keywordtype">void</span> <a class="code hl_function" href="shell_8h.html#ad264d5c479617e3e02ebe3afcea75f37">shell_cleanup</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="keywordtype">void</span> <a class="code hl_function" href="shell_8h.html#a6aa59f98cad89c73966351ad7afb303c">signal_handler</a>(<span class="keywordtype">int</span> sig);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="keywordtype">void</span> <a class="code hl_function" href="shell_8h.html#a53f23b7eee8f8afbf3154c286b6f2de3">add_to_history</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state, <span class="keyword">const</span> <span class="keywordtype">char</span> *command, <span class="keywordtype">int</span> exit_code);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="shell_8h.html#a9874855674f6faef1d014fde3c605630">get_history_command</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state, <span class="keywordtype">int</span> index);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="keywordtype">int</span> <a class="code hl_function" href="shell_8h.html#ac254778bb44c506906e4b424db7cf6f3">search_history</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state, <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix);</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="keywordtype">void</span> <a class="code hl_function" href="shell_8h.html#ab8286b8b1ef0bf4967ca73e4d90ca21f">clear_history</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state);</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="keywordtype">int</span> <a class="code hl_function" href="shell_8h.html#aced7af034c0697772a972b66c16c2130">supports_colors</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span> </div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span><span class="keywordtype">void</span> <a class="code hl_function" href="shell_8h.html#a708dcec6118a7abf8fa97581e915d7e4">set_color</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *color);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="keywordtype">void</span> <a class="code hl_function" href="shell_8h.html#a80d9e44306c2ceb632e35af109e7848b">reset_color</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="keywordtype">char</span> *<a class="code hl_function" href="shell_8h.html#a0e1bad12744cab074f208ed46ebf1310">create_colored_prompt</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *username, <span class="keyword">const</span> <span class="keywordtype">char</span> *hostname, <span class="keyword">const</span> <span class="keywordtype">char</span> *current_dir);</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="keywordtype">int</span> <a class="code hl_function" href="shell_8h.html#a69c283d7d02bdeb9f3c321bbf22b2aee">load_history_from_file</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state);</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="keywordtype">int</span> <a class="code hl_function" href="shell_8h.html#a40c40117b4016b05e518dfffc6b0040f">save_history_to_file</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span><span class="keywordtype">char</span> *<a class="code hl_function" href="shell_8h.html#ac0fe9e912851d1cabca4d9f6e0c34c74">get_history_file_path</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="shell_8h.html#aa3a452629e556edde1066cda516570a0">get_history_by_number</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state, <span class="keywordtype">int</span> number);</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="shell_8h.html#a797fd14933223895f086440be8efe546">get_last_command_by_prefix</a>(<a class="code hl_struct" href="structshell__state__t.html">shell_state_t</a> *state, <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix);</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span><span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>}</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span><span class="preprocessor">#endif </span><span class="comment">/* CUSTOM_SHELL_H */</span><span class="preprocessor"></span></div>
<div class="ttc" id="ashell_8h_html_a0e1bad12744cab074f208ed46ebf1310"><div class="ttname"><a href="shell_8h.html#a0e1bad12744cab074f208ed46ebf1310">create_colored_prompt</a></div><div class="ttdeci">char * create_colored_prompt(const char *username, const char *hostname, const char *current_dir)</div><div class="ttdoc">Создание цветной строки приглашения</div><div class="ttdef"><b>Definition</b> shell.c:351</div></div>
<div class="ttc" id="ashell_8h_html_a1b7e12161a64669d2320db1c93d8e21e"><div class="ttname"><a href="shell_8h.html#a1b7e12161a64669d2320db1c93d8e21e">MAX_HISTORY_LENGTH</a></div><div class="ttdeci">#define MAX_HISTORY_LENGTH</div><div class="ttdoc">Максимальная длина одной команды в истории</div><div class="ttdef"><b>Definition</b> shell.h:58</div></div>
<div class="ttc" id="ashell_8h_html_a40c40117b4016b05e518dfffc6b0040f"><div class="ttname"><a href="shell_8h.html#a40c40117b4016b05e518dfffc6b0040f">save_history_to_file</a></div><div class="ttdeci">int save_history_to_file(shell_state_t *state)</div><div class="ttdoc">Сохранение истории команд в файл</div><div class="ttdef"><b>Definition</b> shell.c:480</div></div>
<div class="ttc" id="ashell_8h_html_a53f23b7eee8f8afbf3154c286b6f2de3"><div class="ttname"><a href="shell_8h.html#a53f23b7eee8f8afbf3154c286b6f2de3">add_to_history</a></div><div class="ttdeci">void add_to_history(shell_state_t *state, const char *command, int exit_code)</div><div class="ttdoc">Добавление команды в историю</div><div class="ttdef"><b>Definition</b> shell.c:235</div></div>
<div class="ttc" id="ashell_8h_html_a69c283d7d02bdeb9f3c321bbf22b2aee"><div class="ttname"><a href="shell_8h.html#a69c283d7d02bdeb9f3c321bbf22b2aee">load_history_from_file</a></div><div class="ttdeci">int load_history_from_file(shell_state_t *state)</div><div class="ttdoc">Загрузка истории команд из файла</div><div class="ttdef"><b>Definition</b> shell.c:405</div></div>
<div class="ttc" id="ashell_8h_html_a6aa59f98cad89c73966351ad7afb303c"><div class="ttname"><a href="shell_8h.html#a6aa59f98cad89c73966351ad7afb303c">signal_handler</a></div><div class="ttdeci">void signal_handler(int sig)</div><div class="ttdoc">Обработка сигналов</div><div class="ttdef"><b>Definition</b> shell.c:35</div></div>
<div class="ttc" id="ashell_8h_html_a708dcec6118a7abf8fa97581e915d7e4"><div class="ttname"><a href="shell_8h.html#a708dcec6118a7abf8fa97581e915d7e4">set_color</a></div><div class="ttdeci">void set_color(const char *color)</div><div class="ttdoc">Установка цвета для вывода</div><div class="ttdef"><b>Definition</b> shell.c:327</div></div>
<div class="ttc" id="ashell_8h_html_a797fd14933223895f086440be8efe546"><div class="ttname"><a href="shell_8h.html#a797fd14933223895f086440be8efe546">get_last_command_by_prefix</a></div><div class="ttdeci">const char * get_last_command_by_prefix(shell_state_t *state, const char *prefix)</div><div class="ttdoc">Поиск последней команды по префиксу (например, !ls)</div><div class="ttdef"><b>Definition</b> shell.c:535</div></div>
<div class="ttc" id="ashell_8h_html_a7a7c87173dc0b32eb0086b66359963a5"><div class="ttname"><a href="shell_8h.html#a7a7c87173dc0b32eb0086b66359963a5">MAX_HISTORY_SIZE</a></div><div class="ttdeci">#define MAX_HISTORY_SIZE</div><div class="ttdoc">Максимальное количество команд в истории</div><div class="ttdef"><b>Definition</b> shell.h:52</div></div>
<div class="ttc" id="ashell_8h_html_a80d9e44306c2ceb632e35af109e7848b"><div class="ttname"><a href="shell_8h.html#a80d9e44306c2ceb632e35af109e7848b">reset_color</a></div><div class="ttdeci">void reset_color(void)</div><div class="ttdoc">Сброс цвета вывода</div><div class="ttdef"><b>Definition</b> shell.c:337</div></div>
<div class="ttc" id="ashell_8h_html_a8263c7076351d705386a432dc09b63d6"><div class="ttname"><a href="shell_8h.html#a8263c7076351d705386a432dc09b63d6">shell_run</a></div><div class="ttdeci">int shell_run(shell_state_t *state)</div><div class="ttdoc">Основной цикл оболочки</div><div class="ttdef"><b>Definition</b> shell.c:113</div></div>
<div class="ttc" id="ashell_8h_html_a9874855674f6faef1d014fde3c605630"><div class="ttname"><a href="shell_8h.html#a9874855674f6faef1d014fde3c605630">get_history_command</a></div><div class="ttdeci">const char * get_history_command(shell_state_t *state, int index)</div><div class="ttdoc">Получение команды из истории по индексу</div><div class="ttdef"><b>Definition</b> shell.c:265</div></div>
<div class="ttc" id="ashell_8h_html_aa3a452629e556edde1066cda516570a0"><div class="ttname"><a href="shell_8h.html#aa3a452629e556edde1066cda516570a0">get_history_by_number</a></div><div class="ttdeci">const char * get_history_by_number(shell_state_t *state, int number)</div><div class="ttdoc">Поиск команды в истории по номеру (например, !5)</div><div class="ttdef"><b>Definition</b> shell.c:522</div></div>
<div class="ttc" id="ashell_8h_html_aac47e02c9e6df0c26ea1d890b98fd161"><div class="ttname"><a href="shell_8h.html#aac47e02c9e6df0c26ea1d890b98fd161">shell_init</a></div><div class="ttdeci">int shell_init(shell_state_t *state)</div><div class="ttdoc">Инициализация оболочки</div><div class="ttdef"><b>Definition</b> shell.c:50</div></div>
<div class="ttc" id="ashell_8h_html_ab8286b8b1ef0bf4967ca73e4d90ca21f"><div class="ttname"><a href="shell_8h.html#ab8286b8b1ef0bf4967ca73e4d90ca21f">clear_history</a></div><div class="ttdeci">void clear_history(shell_state_t *state)</div><div class="ttdoc">Очистка истории команд</div><div class="ttdef"><b>Definition</b> shell.c:296</div></div>
<div class="ttc" id="ashell_8h_html_ac0fe9e912851d1cabca4d9f6e0c34c74"><div class="ttname"><a href="shell_8h.html#ac0fe9e912851d1cabca4d9f6e0c34c74">get_history_file_path</a></div><div class="ttdeci">char * get_history_file_path(void)</div><div class="ttdoc">Получение пути к файлу истории</div><div class="ttdef"><b>Definition</b> shell.c:383</div></div>
<div class="ttc" id="ashell_8h_html_ac254778bb44c506906e4b424db7cf6f3"><div class="ttname"><a href="shell_8h.html#ac254778bb44c506906e4b424db7cf6f3">search_history</a></div><div class="ttdeci">int search_history(shell_state_t *state, const char *prefix)</div><div class="ttdoc">Поиск команды в истории по началу строки</div><div class="ttdef"><b>Definition</b> shell.c:278</div></div>
<div class="ttc" id="ashell_8h_html_aced7af034c0697772a972b66c16c2130"><div class="ttname"><a href="shell_8h.html#aced7af034c0697772a972b66c16c2130">supports_colors</a></div><div class="ttdeci">int supports_colors(void)</div><div class="ttdoc">Проверка поддержки цветов терминалом</div><div class="ttdef"><b>Definition</b> shell.c:310</div></div>
<div class="ttc" id="ashell_8h_html_ad264d5c479617e3e02ebe3afcea75f37"><div class="ttname"><a href="shell_8h.html#ad264d5c479617e3e02ebe3afcea75f37">shell_cleanup</a></div><div class="ttdeci">void shell_cleanup(shell_state_t *state)</div><div class="ttdoc">Очистка ресурсов оболочки</div><div class="ttdef"><b>Definition</b> shell.c:216</div></div>
<div class="ttc" id="astructcommand__t_html"><div class="ttname"><a href="structcommand__t.html">command_t</a></div><div class="ttdoc">Структура для хранения информации о команде</div><div class="ttdef"><b>Definition</b> shell.h:118</div></div>
<div class="ttc" id="astructcommand__t_html_a1fc6386693577d4209050cc425c7637f"><div class="ttname"><a href="structcommand__t.html#a1fc6386693577d4209050cc425c7637f">command_t::args</a></div><div class="ttdeci">char ** args</div><div class="ttdef"><b>Definition</b> shell.h:120</div></div>
<div class="ttc" id="astructcommand__t_html_a2db4be54adcc51d85b7c72fe88cae1c9"><div class="ttname"><a href="structcommand__t.html#a2db4be54adcc51d85b7c72fe88cae1c9">command_t::output_file</a></div><div class="ttdeci">char * output_file</div><div class="ttdef"><b>Definition</b> shell.h:123</div></div>
<div class="ttc" id="astructcommand__t_html_a6ea051a54b39d23ae89182607c12eb3c"><div class="ttname"><a href="structcommand__t.html#a6ea051a54b39d23ae89182607c12eb3c">command_t::input_file</a></div><div class="ttdeci">char * input_file</div><div class="ttdef"><b>Definition</b> shell.h:122</div></div>
<div class="ttc" id="astructcommand__t_html_a7669822c9db256e89589d5a876f9b985"><div class="ttname"><a href="structcommand__t.html#a7669822c9db256e89589d5a876f9b985">command_t::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition</b> shell.h:119</div></div>
<div class="ttc" id="astructcommand__t_html_ad71a60db506befc5d6f81e57d3af0bdc"><div class="ttname"><a href="structcommand__t.html#ad71a60db506befc5d6f81e57d3af0bdc">command_t::background</a></div><div class="ttdeci">int background</div><div class="ttdef"><b>Definition</b> shell.h:124</div></div>
<div class="ttc" id="astructcommand__t_html_aeb541791619c1670c1fddb8f918f1b11"><div class="ttname"><a href="structcommand__t.html#aeb541791619c1670c1fddb8f918f1b11">command_t::argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition</b> shell.h:121</div></div>
<div class="ttc" id="astructhistory__entry__t_html"><div class="ttname"><a href="structhistory__entry__t.html">history_entry_t</a></div><div class="ttdoc">Структура для хранения записи в истории команд</div><div class="ttdef"><b>Definition</b> shell.h:131</div></div>
<div class="ttc" id="astructhistory__entry__t_html_a9cd8fd5b3b3f4277303b7e93ee91f423"><div class="ttname"><a href="structhistory__entry__t.html#a9cd8fd5b3b3f4277303b7e93ee91f423">history_entry_t::timestamp</a></div><div class="ttdeci">time_t timestamp</div><div class="ttdef"><b>Definition</b> shell.h:133</div></div>
<div class="ttc" id="astructhistory__entry__t_html_ad8af9c1cdc596f0b97bcdd2adecdfc58"><div class="ttname"><a href="structhistory__entry__t.html#ad8af9c1cdc596f0b97bcdd2adecdfc58">history_entry_t::exit_code</a></div><div class="ttdeci">int exit_code</div><div class="ttdef"><b>Definition</b> shell.h:134</div></div>
<div class="ttc" id="astructshell__state__t_html"><div class="ttname"><a href="structshell__state__t.html">shell_state_t</a></div><div class="ttdoc">Структура для хранения состояния оболочки</div><div class="ttdef"><b>Definition</b> shell.h:141</div></div>
<div class="ttc" id="astructshell__state__t_html_a187359fda69e8fbae4b689fd0779501d"><div class="ttname"><a href="structshell__state__t.html#a187359fda69e8fbae4b689fd0779501d">shell_state_t::history_index</a></div><div class="ttdeci">int history_index</div><div class="ttdef"><b>Definition</b> shell.h:148</div></div>
<div class="ttc" id="astructshell__state__t_html_a303ed311b2f68b1fa8320534a7a00b88"><div class="ttname"><a href="structshell__state__t.html#a303ed311b2f68b1fa8320534a7a00b88">shell_state_t::prompt</a></div><div class="ttdeci">char * prompt</div><div class="ttdef"><b>Definition</b> shell.h:142</div></div>
<div class="ttc" id="astructshell__state__t_html_a3ddb8e63a7a24012486de311d7f66b9f"><div class="ttname"><a href="structshell__state__t.html#a3ddb8e63a7a24012486de311d7f66b9f">shell_state_t::exit_code</a></div><div class="ttdeci">int exit_code</div><div class="ttdef"><b>Definition</b> shell.h:144</div></div>
<div class="ttc" id="astructshell__state__t_html_a6b8a870f1a562afba347f2e899d23644"><div class="ttname"><a href="structshell__state__t.html#a6b8a870f1a562afba347f2e899d23644">shell_state_t::should_exit</a></div><div class="ttdeci">int should_exit</div><div class="ttdef"><b>Definition</b> shell.h:145</div></div>
<div class="ttc" id="astructshell__state__t_html_a8916fb15edfeb57944b3d30efce44728"><div class="ttname"><a href="structshell__state__t.html#a8916fb15edfeb57944b3d30efce44728">shell_state_t::history_count</a></div><div class="ttdeci">int history_count</div><div class="ttdef"><b>Definition</b> shell.h:147</div></div>
<div class="ttc" id="astructshell__state__t_html_ac8f3a3909a877152c226cd175afbd170"><div class="ttname"><a href="structshell__state__t.html#ac8f3a3909a877152c226cd175afbd170">shell_state_t::current_dir</a></div><div class="ttdeci">char * current_dir</div><div class="ttdef"><b>Definition</b> shell.h:143</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Создано системой&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
